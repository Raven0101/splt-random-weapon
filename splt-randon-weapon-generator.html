<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ–¯æ™®æ‹‰ééšæœºæ­¦å™¨ç”Ÿæˆå™¨</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Arial', sans-serif;
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        color: white;
        min-height: 100vh;
        padding: 10px;
        font-size: 14px;
      }

      .container {
        max-width: 100%;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        margin-bottom: 20px;
      }

      .header h1 {
        font-size: 1.8em;
        margin-bottom: 5px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }

      .header p {
        font-size: 0.9em;
      }

      .filters {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 15px;
      }

      .filter-group {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 10px;
      }

      .filter-item {
        flex: 1;
        min-width: 100%;
        margin-bottom: 10px;
      }

      .filter-item label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        font-size: 0.9em;
      }

      select,
      button {
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 5px;
        font-size: 14px;
      }

      button {
        background: #ff6b6b;
        color: white;
        cursor: pointer;
        transition: background 0.3s;
        font-weight: bold;
      }

      button:hover {
        background: #ff5252;
      }

      .teams {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 15px;
      }

      .team {
        flex: 1;
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 10px;
      }

      .team h2 {
        text-align: center;
        margin-bottom: 15px;
        font-size: 1.4em;
      }

      .player {
        background: rgba(0, 0, 0, 0.2);
        padding: 12px;
        margin-bottom: 8px;
        border-radius: 5px;
        border-left: 4px solid #4ecdc4;
      }

      .player h3 {
        margin-bottom: 8px;
        color: #ffd166;
        font-size: 1.1em;
      }

      .weapon-info {
        display: grid;
        grid-template-columns: 1fr;
        gap: 8px;
      }

      .weapon-item {
        padding: 6px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
        font-size: 0.9em;
      }

      .weapon-item strong {
        display: block;
        margin-bottom: 2px;
        color: #ffd166;
      }

      .controls {
        text-align: center;
        margin: 15px 0;
      }

      .generate-btn {
        background: #4ecdc4;
        padding: 12px 25px;
        font-size: 16px;
        width: auto;
        max-width: 250px;
        margin: 0 auto;
      }

      .generate-btn:hover {
        background: #3db9b1;
      }

      .loading {
        text-align: center;
        padding: 20px;
        font-size: 1.1em;
      }

      .error {
        color: #ff6b6b;
        text-align: center;
        padding: 20px;
        font-size: 1.1em;
      }

      /* ç§»åŠ¨ç«¯ç‰¹å®šæ ·å¼ */
      @media (max-width: 768px) {
        body {
          padding: 5px;
        }

        .header h1 {
          font-size: 1.6em;
        }

        .filter-group {
          flex-direction: column;
        }

        .filter-item {
          min-width: 100%;
        }

        .teams {
          gap: 10px;
        }

        .team {
          padding: 10px;
        }

        .team h2 {
          font-size: 1.2em;
        }

        .player {
          padding: 10px;
        }

        .weapon-info {
          grid-template-columns: 1fr;
        }

        .generate-btn {
          padding: 10px 20px;
          font-size: 15px;
        }
      }

      @media (max-width: 480px) {
        body {
          padding: 5px;
          font-size: 13px;
        }

        .header h1 {
          font-size: 1.4em;
        }

        .filters {
          padding: 10px;
        }

        .filter-group {
          gap: 8px;
        }

        .filter-item {
          margin-bottom: 8px;
        }

        .team h2 {
          font-size: 1.1em;
        }

        .player {
          padding: 8px;
        }

        .weapon-item {
          font-size: 0.85em;
        }

        .generate-btn {
          padding: 9px 18px;
          font-size: 14px;
          max-width: 200px;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="container">
        <div class="header">
          <h1>âš”ï¸ éšæœºæ­¦å™¨ç”Ÿæˆå™¨ âš”ï¸</h1>
        </div>

        <div class="filters">
          <h2>ç­›é€‰å™¨</h2>
          <div class="filter-group">
            <div class="filter-item">
              <label for="primaryType">ä¸»æ­¦å™¨ç±»å‹:</label>
              <select v-model="selectedPrimaryType" id="primaryType">
                <option value="">å…¨éƒ¨</option>
                <option v-for="type in primaryTypes" :key="type" :value="type">
                  {{ type }}
                </option>
              </select>
            </div>

            <div class="filter-item">
              <label for="secondary">å‰¯æ­¦å™¨:</label>
              <select v-model="selectedSecondary" id="secondary">
                <option value="">å…¨éƒ¨</option>
                <option
                  v-for="weapon in secondaryWeapons"
                  :key="weapon"
                  :value="weapon">
                  {{ weapon }}
                </option>
              </select>
            </div>

            <div class="filter-item">
              <label for="special">ç‰¹æ®Šæ­¦å™¨:</label>
              <select v-model="selectedSpecial" id="special">
                <option value="">å…¨éƒ¨</option>
                <option
                  v-for="weapon in specialWeapons"
                  :key="weapon"
                  :value="weapon">
                  {{ weapon }}
                </option>
              </select>
            </div>
          </div>

          <div class="filter-group">
            <div class="filter-item">
              <button @click="resetFilters" class="reset-btn">
                é‡ç½®ç­›é€‰å™¨
              </button>
            </div>
          </div>
        </div>

        <div class="controls">
          <button @click="generateTeams" class="generate-btn">
            ğŸ² ç”Ÿæˆæ­¦å™¨é…ç½®
          </button>
        </div>

        <div class="teams">
          <div class="team">
            <h2>ğŸ›¡ï¸ Aé˜Ÿ</h2>
            <div
              v-for="(player, index) in teamA"
              :key="'a'+index"
              class="player">
              <h3>ç©å®¶ {{ index + 1 }}</h3>
              <div class="weapon-info">
                <div class="weapon-item">
                  <strong>ä¸»æ­¦å™¨:</strong> {{ player.primary.name }}
                </div>
                <div class="weapon-item">
                  <strong>ç±»å‹:</strong> {{ player.primary.type }}
                </div>
                <div class="weapon-item">
                  <strong>å‰¯æ­¦å™¨:</strong> {{ player.secondary }}
                </div>
                <div class="weapon-item">
                  <strong>ç‰¹æ®Šæ­¦å™¨:</strong> {{ player.special }}
                </div>
              </div>
            </div>
          </div>

          <div class="team">
            <h2>âš”ï¸ Bé˜Ÿ</h2>
            <div
              v-for="(player, index) in teamB"
              :key="'b'+index"
              class="player">
              <h3>ç©å®¶ {{ index + 1 }}</h3>
              <div class="weapon-info">
                <div class="weapon-item">
                  <strong>ä¸»æ­¦å™¨:</strong> {{ player.primary.name }}
                </div>
                <div class="weapon-item">
                  <strong>ç±»å‹:</strong> {{ player.primary.type }}
                </div>
                <div class="weapon-item">
                  <strong>å‰¯æ­¦å™¨:</strong> {{ player.secondary }}
                </div>
                <div class="weapon-item">
                  <strong>ç‰¹æ®Šæ­¦å™¨:</strong> {{ player.special }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <script>
    const { createApp, ref, computed, onMounted } = Vue;
    
    createApp({
      setup() {
        // æ¨¡æ‹ŸJSONæ•°æ®åŠ è½½
        // ... existing code ...
        // Load weapon data from external JSON file
        const weaponsData = ref(null);
        
        // Fetch the weapons data from the external JSON file
        fetch('./weapons-data.json')
          .then(response => response.json())
          .then(data => {
            weaponsData.value = data;
          })
          .catch(error => {
            console.error('Error loading weapons data:', error);
            // Fallback to default data if JSON file fails to load
            weaponsData.value = {
              primary: [
                {"name": "çªå‡»æ­¥æª MK1", "type": "çªå‡»æ­¥æª"},
                {"name": "ç‹™å‡»æª AWP", "type": "ç‹™å‡»æ­¥æª"},
                {"name": "å†²é”‹æª MP5", "type": "å†²é”‹æª"},
                {"name": "éœ°å¼¹æª M1014", "type": "éœ°å¼¹æª"},
                {"name": "è½»æœºæª M249", "type": "è½»æœºæª"},
                {"name": "æ‰‹æª Desert Eagle", "type": "æ‰‹æª"},
                {"name": "å¡å®¾æª M4A1", "type": "çªå‡»æ­¥æª"},
                {"name": "ç‹™å‡»æª SVD", "type": "ç‹™å‡»æ­¥æª"},
                {"name": "å†²é”‹æª UZI", "type": "å†²é”‹æª"},
                {"name": "éœ°å¼¹æª SPAS-12", "type": "éœ°å¼¹æª"},
                {"name": "è½»æœºæª MG3", "type": "è½»æœºæª"},
                {"name": "æ‰‹æª Glock-18", "type": "æ‰‹æª"},
                {"name": "çªå‡»æ­¥æª AK-47", "type": "çªå‡»æ­¥æª"},
                {"name": "ç‹™å‡»æª M82", "type": "ç‹™å‡»æ­¥æª"},
                {"name": "å†²é”‹æª P90", "type": "å†²é”‹æª"}
              ],
              secondary: [
                "æ ¼æ´›å…‹17", "USP", "P226", "Five-seveN", 
                "P99", "CZ75", "R8 å·¦è½®", "åŒæŒè´ç‘å¡”",
                "æ²™é¹°", "FNX-45", "VP9", "M1911"
              ],
              special: [
                "é—ªå…‰å¼¹", "çƒŸé›¾å¼¹", "ç‡ƒçƒ§ç“¶", "éœ‡æ’¼å¼¹",
                "æ‰‹é›·", "ç”µå‡»æª", "æ¿€å…‰ç„å‡†å™¨", "æˆ˜æœ¯åŒ•é¦–",
                "é˜²å¼¹ç›¾ç‰Œ", "æ— äººæœº", "EMPæ‰‹é›·", "é¥æ§ç‚¸å¼¹"
              ]
            };
          });
// ... existing code ...
        
        // è®¡ç®—å±æ€§è·å–ç±»å‹
        const primaryTypes = computed(() => {
          return [...new Set(weaponsData.value.primary.map(weapon => weapon.type))];
        });
        
        const secondaryWeapons = computed(() => {
          return weaponsData.value.secondary;
        });
        
        const specialWeapons = computed(() => {
          return weaponsData.value.special;
        });
        
        // ç­›é€‰æ¡ä»¶
        const selectedPrimaryType = ref("");
        const selectedSecondary = ref("");
        const selectedSpecial = ref("");
        
        // å›¢é˜Ÿæ•°æ®
        const teamA = ref([]);
        const teamB = ref([]);
        
        // é‡ç½®ç­›é€‰å™¨
        function resetFilters() {
          selectedPrimaryType.value = "";
          selectedSecondary.value = "";
          selectedSpecial.value = "";
        }
        
        // éšæœºé€‰æ‹©å‡½æ•°
        function getRandomItem(array) {
          if (array.length === 0) return null;
          const randomIndex = Math.floor(Math.random() * array.length);
          return array[randomIndex];
        }
        
        // ç”Ÿæˆå›¢é˜Ÿæ­¦å™¨é…ç½®
        function generateTeams() {
          teamA.value = [];
          teamB.value = [];
          
          for (let i = 0; i < 4; i++) {
            // ä¸ºAé˜Ÿç”Ÿæˆç©å®¶æ­¦å™¨
            const aPlayer = {
              primary: getRandomItem(
                selectedPrimaryType.value 
                  ? weaponsData.value.primary.filter(w => w.type === selectedPrimaryType.value)
                  : weaponsData.value.primary
              ),
              secondary: selectedSecondary.value || getRandomItem(weaponsData.value.secondary),
              special: selectedSpecial.value || getRandomItem(weaponsData.value.special)
            };
            teamA.value.push(aPlayer);
            
            // ä¸ºBé˜Ÿç”Ÿæˆç©å®¶æ­¦å™¨
            const bPlayer = {
              primary: getRandomItem(
                selectedPrimaryType.value 
                  ? weaponsData.value.primary.filter(w => w.type === selectedPrimaryType.value)
                  : weaponsData.value.primary
              ),
              secondary: selectedSecondary.value || getRandomItem(weaponsData.value.secondary),
              special: selectedSpecial.value || getRandomItem(weaponsData.value.special)
            };
            teamB.value.push(bPlayer);
          }
        }
        
        return {
          weaponsData,
          primaryTypes,
          secondaryWeapons,
          specialWeapons,
          selectedPrimaryType,
          selectedSecondary,
          selectedSpecial,
          teamA,
          teamB,
          resetFilters,
          generateTeams
        };
      }
    }).mount('#app');
  </script> -->
    <script>
      fetch(
        'https://splatoon.com.cn/api/datasource/weapon/weapon/list?page=1&perPage=20&orderBy=splatnet&sort=ASC&pagination=true&toolbar=true&toolbarParams=%5B%7B%22type%22:%22checkbox%22,%22paramName%22:%22version%22,%22label%22:%222%E4%BB%A3%E6%95%B0%E6%8D%AE%22,%22value%22:2,%22check%22:false%7D,%7B%22type%22:%22checkbox%22,%22paramName%22:%22version%22,%22label%22:%223%E4%BB%A3%E6%95%B0%E6%8D%AE%22,%22value%22:3,%22check%22:true%7D%5D&version=3'
      ).then((res) => {
        console.log(res)
      })
    </script>
  </body>
</html>
